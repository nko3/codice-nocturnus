
var path = require('path');

exports.fileType = function(file) {
  var type = /\.(js|css)$/.exec(file);
  return type ? type[1] : null;
};

exports.yui = function(options, type) {
  var yuiPath = path.resolve(__dirname + '/../support/yuicompressor-2.4.7.jar');
  var args = [
      '-jar',
      '-Xss2048k',
      yuiPath
   ];

   if (type) args.push('--type', type);
   if (options) args.push(options);

   return {
      command:'java',
      args:args
   };
};

exports.uglify = function(options) {
  var uglifyPath = path.resolve(__dirname + '/../support/uglify/bin/uglifyjs');
  var args = [];

   if (options) args.push(options);

   return {
      command:uglifyPath,
      args:args
   };
};
